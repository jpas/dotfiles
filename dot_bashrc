# adds local bin for manually installed programs
if [[ "$PATH" != *"$HOME/.local/bin:"* ]]; then
  export PATH=$HOME/.local/bin:$PATH
fi

# chroot into nix if we can
if [[ -e "$HOME/.nix/enter.sh" ]]; then
  source "$HOME/.nix/enter.sh"
fi

if [[ -e "$HOME/.nix-profile/etc/profile.d/nix.sh" ]] && [[ -z "$NIX_PATH" ]]; then
  source "$HOME/.nix-profile/etc/profile.d/nix.sh"
fi

# if we are not interactive we are done
[[ "$-" == *i* ]] || return

exec zsh
